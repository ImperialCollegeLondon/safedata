<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Set the local SAFE data directory — set_safe_dir • safedata</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Set the local SAFE data directory — set_safe_dir"><meta property="og:description" content='This function sets the local directory used to store SAFE dataset
files along with record and index metadata. The function can also
initialise a new data directory, downloading the required index
files. By default, it will update indices if needed and will
validate the directory contents. Once set, the location of the
directory is stored in options("safedata.dir"). The url
argument specifies a URL to a website that exposes the SAFE data
API.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">safedata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/overview.html">An overview of the safedata package</a>
    </li>
    <li>
      <a href="../articles/using_safe_data.html">Using the `safedata` package</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ImperialCollegeLondon/safedata/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set the local SAFE data directory</h1>
    <small class="dont-index">Source: <a href="https://github.com/ImperialCollegeLondon/safedata/blob/HEAD/R/index.R" class="external-link"><code>R/index.R</code></a></small>
    <div class="hidden name"><code>set_safe_dir.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function sets the local directory used to store SAFE dataset
files along with record and index metadata. The function can also
initialise a new data directory, downloading the required index
files. By default, it will update indices if needed and will
validate the directory contents. Once set, the location of the
directory is stored in options("safedata.dir"). The <code>url</code>
argument specifies a URL to a website that exposes the SAFE data
API.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_safe_dir</span><span class="op">(</span></span>
<span>  <span class="va">safedir</span>,</span>
<span>  update <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  create <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"https://www.safeproject.net"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>safedir</dt>
<dd><p>A path to the directory to set as the SAFE data
directory (str).</p></dd>


<dt>update</dt>
<dd><p>Should the local dataset index be updated (logical)?</p></dd>


<dt>create</dt>
<dd><p>Should a new data directory be created at the provided
path (logical)?</p></dd>


<dt>url</dt>
<dd><p>A URL providing the SAFE Data API, defaulting to the SAFE
Project's own URL.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Invisibly, a boolean showing whether a SAFE data directory was
   set successfully.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The safedata package uses a data directory to store local copies of
dataset files along with index files. Files for a dataset record are
stored in subdirectories using the zenodo concept id for the record
and then record id: <code>3342494/3342495</code>, for example. In addition
to data files from these records, these folders can also contain a
JSON file containing record metadata (e.g. <code>3342495.json</code>): this
is a structured version of the summary information shown on the
Zenodo page.</p>
<p>The root of the data directory also holds three index files:</p><dl><dt><code>index.json</code></dt>
<dd><p>, containing a full list of the
        files and dataset records available in the SAFE data
        repository;</p></dd>

  <dt><code>gazetteer.geojson</code></dt>
<dd><p>, containing the official list of
        known sampling locations and GIS data; and</p></dd>

  <dt><code>location_aliases.csv</code></dt>
<dd><p>, a list of alternative names
        permitted for some locations.</p></dd>


</dl><p>If <code>create = TRUE</code>, the function will try to create the named
directory and populate it with the three index files. This requires
an internet connection.</p>
<p>By default, the function also needs an internet connection to check
for updates to the three index files. Updating can be turned off for
offline use.</p>
<p>The default behaviour is also to validate the directory structure. The
function will warn when files other than those found in datasets are
present within the data structure and when any dataset files that are
present have been modified. Although this can be turned off, it is
not recommended to modify or add files within a SAFE data directory.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andy Aldersley, David Orme.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

